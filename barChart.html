<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>barChart</title>
  </head>
  <body>
    <div>
      <canvas id="myChart"></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById('myChart');

      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: [
            '영화관람',
            '음악연주관람',
            '전시회관람',
            '전통예술공연관람',
            '무용공연관람',
          ], //x축 데이터
          datasets: [
            //데이터 속성
            {
              label: '2022년도',
              data: [60, 3.4, 9.6, 2.9, 0.9],
              borderWidth: 1,
              backgroundColor: '#00C7E2',
              maxBarThickness: 50,
            },
            {
              label: '2023년도',
              data: [68.5, 4.1, 9.2, 4.8, 1.7],
              borderWidth: 1,
              backgroundColor: '#FF7DA8',
              maxBarThickness: 50,
              //   막대의 최대 두께를 설정
            },
          ],
        },
        options: {
          animation: {
            duration: 3000, // 애니메이션의 지속 시간을 2000밀리초로 설정
            easing: 'easeInOutSine', // 애니메이션이 시작할 때와 끝날 때 부드럽게 가속하고 감속하는 효과 - 자연스러운 효과를 줄떄 사용
            delay: 1000, // 애니메이션이 시작되기 전 대기 시간을 500밀리초로 설정
          },
          scales: {
            y: {
              beginAtZero: true,
              //y축 0 부터 시작하도록 구현
              max: 80,
              ticks: {
                callback: function (value) {
                  // Chart.js가 y축 눈금을 그릴 때 자동으로 콜백 함수에 전달하는 값입니다. Chart.js는 내부적으로 데이터셋과 축 설정을 기반으로 눈금 값
                  return value.toFixed(1); // y축 값을 소수점 한 자리까지 표시
                },
              },
              title: {
                display: true,
                //해당 요소를 화면에 표시할지 여부를 결정 - 많은 옵션들은 기본값으로 display: false를 가집니다 그러므로 true를 입력해 줘야 한다.
                text: '비율(%)', // y축 제목을 "비율(%)"로 설정
                font: {
                  weight: 'bold',
                },
                padding: {
                  bottom: 5,
                },
              },
            },
            x: {
              title: {
                display: true,
                text: '문화 예술 관람 활동 유형',
                font: {
                  size: 19,
                  weight: 'bold',
                },
                padding: {
                  top: 20, // 제목 위쪽에 50px의 패딩 추가
                },
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
